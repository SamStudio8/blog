<!DOCTYPE html>
<html lang="en-GB">

<head>
	<meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="pingback" href="https://samnicholls.net/xmlrpc.php">

	
	<title>Aligned Annihilation &#8211; Samposium</title>
<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Samposium &raquo; Feed" href="https://samnicholls.net/feed/" />
<link rel="alternate" type="application/rss+xml" title="Samposium &raquo; Comments Feed" href="https://samnicholls.net/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Samposium &raquo; Aligned Annihilation Comments Feed" href="https://samnicholls.net/2015/05/01/aligned-annihilation/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/samnicholls.net\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.7.5"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='crayon-css'  href='https://samnicholls.net/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-github-css'  href='https://samnicholls.net/wp-content/plugins/crayon-syntax-highlighter/themes/github/github.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='https://samnicholls.net/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='wp-block-library-css'  href='https://samnicholls.net/wp-includes/css/dist/block-library/style.min.css?ver=5.7.5' type='text/css' media='all' />
<link rel='stylesheet' id='css-style-css'  href='https://samnicholls.net/wp-content/themes/responsive-deluxe/css/style.css?ver=5.7.5' type='text/css' media='all' />
<link rel='stylesheet' id='child-style-css'  href='https://samnicholls.net/wp-content/themes/responsive-deluxe-child/style.css?ver=5.7.5' type='text/css' media='all' />
<link rel='stylesheet' id='lato-css'  href='//fonts.googleapis.com/css?family=Lato%3A400%2C700%2C400italic&#038;ver=5.7.5' type='text/css' media='all' />
<link rel='stylesheet' id='slabo-css'  href='//fonts.googleapis.com/css?family=Slabo+27px&#038;ver=5.7.5' type='text/css' media='all' />
<link rel='stylesheet' id='fa-css'  href='https://samnicholls.net/wp-content/themes/responsive-deluxe/css/font-awesome.css?ver=5.7.5' type='text/css' media='all' />
<link rel='stylesheet' id='rd-style-css'  href='https://samnicholls.net/wp-content/themes/responsive-deluxe-child/style.css?ver=5.7.5' type='text/css' media='all' />
<link rel='stylesheet' id='css-custom-css'  href='https://samnicholls.net/wp-content/themes/responsive-deluxe/css/custom.css?ver=5.7.5' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='https://samnicholls.net/wp-content/plugins/jetpack/css/jetpack.css?ver=4.9' type='text/css' media='all' />
<script type='text/javascript' src='https://samnicholls.net/wp-includes/js/jquery/jquery.min.js?ver=3.5.1' id='jquery-core-js'></script>
<script type='text/javascript' src='https://samnicholls.net/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<script type='text/javascript' id='crayon_js-js-extra'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"https:\/\/samnicholls.net\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='https://samnicholls.net/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta' id='crayon_js-js'></script>
<script type='text/javascript' src='https://samnicholls.net/wp-content/plugins/fd-footnotes/fdfootnotes.js?ver=1.34' id='fdfootnote_script-js'></script>
<script type='text/javascript' src='https://samnicholls.net/wp-content/themes/responsive-deluxe/js/bootstrap.js?ver=5.7.5' id='bootstrap-js'></script>
<script type='text/javascript' src='https://samnicholls.net/wp-content/themes/responsive-deluxe/js/custom.js?ver=5.7.5' id='js-custom-js'></script>
<link rel="https://api.w.org/" href="https://samnicholls.net/wp-json/" /><link rel="alternate" type="application/json" href="https://samnicholls.net/wp-json/wp/v2/posts/252" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://samnicholls.net/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://samnicholls.net/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.7.5" />
<link rel="canonical" href="https://samnicholls.net/2015/05/01/aligned-annihilation/" />
<link rel='shortlink' href='https://wp.me/p6RfP0-44' />
<link rel="alternate" type="application/json+oembed" href="https://samnicholls.net/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fsamnicholls.net%2F2015%2F05%2F01%2Faligned-annihilation%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://samnicholls.net/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fsamnicholls.net%2F2015%2F05%2F01%2Faligned-annihilation%2F&#038;format=xml" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62206786-1', 'auto');
  ga('send', 'pageview');

</script>


<link rel='dns-prefetch' href='//v0.wordpress.com'>
<style type='text/css'>img#wpstats{display:none}</style>
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Aligned Annihilation" />
<meta property="og:url" content="https://samnicholls.net/2015/05/01/aligned-annihilation/" />
<meta property="og:description" content="This afternoon in a coffee fueled fugue, I nuked every directory containing output for any attempt to align the limpet contigs to any form of database so far. Here&#8217;s why, and what I did next." />
<meta property="article:published_time" content="2015-05-01T10:01:21+00:00" />
<meta property="article:modified_time" content="2015-10-26T11:04:13+00:00" />
<meta property="og:site_name" content="Samposium" />
<meta property="og:image" content="https://s0.wp.com/i/blank.jpg" />
<meta property="og:locale" content="en_GB" />
<meta name="twitter:card" content="summary" />
</head>

<body class="post-template-default single single-post postid-252 single-format-standard">


        
<header id="main-header">
    <nav class="navbar-default navbar-static-top navbar" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#rd-collapse">
                    <span class="fa fa-bars"></span>
                    <span class="sr-only screen-reader-text">Toggle navigation</span>
                </button>
                <a class="navbar-brand" href=" https://samnicholls.net/">Samposium</a>            </div>
            
            <div id="rd-collapse" class="collapse navbar-collapse">
            
            <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body class="post-template-default single single-post postid-252 single-format-standard">

<div id="main-menu" class="navbar-nav nav"><ul>
<li class="page_item page-item-8"><a href="https://samnicholls.net/about/">About Me</a></li>
<li class="page_item page-item-11"><a href="https://samnicholls.net/talks/">Talks</a></li>
<li class="page_item page-item-15"><a href="https://samnicholls.net/things-i-have-learned/">Things I Have Learned</a></li>
</ul></div></body></html>
        </div>

        </div>
    </nav>
</header>

<div class="container">

    <div class="row"><!-- Content -->
<section class="col-md-8 content-container">
                          <article class="card post hentry post-252 type-post status-publish format-standard category-au-phd" id="post-252">
                <header class="entry-header">
                        <h1 class="entry-title">Aligned Annihilation</h1>                </header><!-- .entry-header -->

                <div class="meta-well">
                    <span style="margin-right:15px;" class=""><span class="fa fa-user"></span>&nbsp;&nbsp;&nbsp;<span class="author vcard"><a class="url fn n" href="https://samnicholls.net/about/">Sam Nicholls</a></span></span>

                    <span style="margin-right:15px;" class="entry-date published updated post-date"><span class="fa fa-clock-o"></span>&nbsp;&nbsp; <time class="entry-date published" datetime="2015-05-01T11:01:21+01:00">1st May 2015</time><time class="updated" datetime="2015-10-26T11:04:13+00:00">26th October 2015</time></span>                    <span style="margin-right:15px;" class=""><span class="fa fa-comments-o"></span>&nbsp;&nbsp; <a href="https://samnicholls.net/2015/05/01/aligned-annihilation/#respond"><span class="dsq-postid" data-dsqidentifier="252 http://blog.ironowl.io/?p=252">No Comments yet</span></a></span>
                    <span class=""><span class="fa fa-folder-open"></span>&nbsp;&nbsp;&nbsp;<a href="https://samnicholls.net/category/bioinf/au-phd/" rel="category tag">AU-PhD</a></span>
                </div>

                <div class="entry-content"><p>This afternoon in a coffee fueled fugue, I nuked every directory containing output for any attempt to align the limpet contigs to any form of database so far. Here&#8217;s why, and what I did next.</p>
<p>I awoke in the morning knowing I was too far down the rabbit hole to truly know which outputs belonged to what job, which sets of outputs were now supposed to be appended to the ends of other truncated outputs, whether I was even supposed to be <a href="/2015/04/27/what-am-i-doing/">looking at hydrolases or taxonomy</a> and did I try hitting on TrEMBL or SwissProt (or both, or neither)? Not that the database matters given my copies of both are now <a href="/2015/04/24/trembling/">heavily redundant</a> anyway.</p>
<p>As you might imagine, the obliteration was a briefly cathartic experience interrupted too soon by an intense realisation that I am definitely behind in producing interesting data. But it is refreshing to have a grasp on what we have so far, even if it is now very little<sup id="fnref-252-1"><a href="#fn-252-1" rel="footnote">1</a></sup>. It was also easy to work out where to go from here: generate some damn data.</p>
<p>Recently I <a href="/2015/04/27/what-am-i-doing/">sidelined <code>BLAST</code></a> in favour of <code>rapsearch</code> for performing searches over contigs for &#8220;interesting sequences&#8221; as the cluster simply appears <a href="/2015/02/17/sun-grid-engine">unable to cope</a> with such scale: once both the limpet assembly contigs had been sharded into 250 bite-size pieces and hit against say, 30 shards of TrEMBL v2015_03, you&#8217;re already looking at 7,500 jobs &#8212; which as <a href="/2015/04/17/exits/">seen previously</a> is potentially problematic.</p>
<p>Having re-stocked my hydrolase-specific databases after the latest release of Uniprot, with bacterial and archaeal<sup id="fnref-252-2"><a href="#fn-252-2" rel="footnote">2</a></sup> hydrolases, Wayne suggested to grab those from fungi too &#8212; as they are an expected taxonomic group in the dataset and we&#8217;d like to not miss them out. The table below summarises the databases for future reference:</p>
<table>
<thead>
<tr>
<th>Taxonomy</th>
<th align="center">Reviewed</th>
<th>#Records</th>
<th>DB Size (MB)</th>
<th align="center">Failed</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bacteria</td>
<td align="center">N (Tr)</td>
<td>1,069,711</td>
<td>2,700~</td>
<td align="center">X</td>
</tr>
<tr>
<td>Bacteria</td>
<td align="center">Y (SP)</td>
<td>42,027</td>
<td>108</td>
<td align="center">X</td>
</tr>
<tr>
<td>Archaea</td>
<td align="center">N (Tr)</td>
<td>20,456</td>
<td>59</td>
<td align="center"></td>
</tr>
<tr>
<td>Archaea</td>
<td align="center">Y (SP)</td>
<td>2,132</td>
<td>20</td>
<td align="center">X</td>
</tr>
<tr>
<td>Fungi</td>
<td align="center">N (Tr)</td>
<td>61,521</td>
<td>243</td>
<td align="center">X</td>
</tr>
<tr>
<td>Fungi</td>
<td align="center">Y (SP)</td>
<td>5,546</td>
<td>37</td>
<td align="center"></td>
</tr>
</tbody>
</table>
<p>Thanks to the speed of <code>rapsearch</code>, one does not need to perform any sharding on the contig queries or the database, which is lovely. Additionally, my <a href="https://github.com/samstudio8/sunblock">work in progress</a>: <code>Sunblock</code>, takes some of the pain out of working with the cluster, prompting a few questions before automatically generating the job script and submitting it to SGE<sup id="fnref-252-3"><a href="#fn-252-3" rel="footnote">3</a></sup> for execution.</p>
<p>Unfortunately the smooth sailing stopped shortly after scheduling and four of the six jobs terminated given a non-zero exit (as configured) from the <code>rapsearch</code> command and dumping the following <a href="/2015/04/17/exits/">familiar library error</a><sup id="fnref-252-4"><a href="#fn-252-4" rel="footnote">4</a></sup>:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-64f10616c6ed7635216299" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
terminate called after throwing an instance of 'boost::archive::archive_exception'
  what():  invalid signature
/cm/local/apps/sge/current/spool/node012/job_scripts/1442997: line 40: 31100 Aborted
  (core dumped) rapsearch -q $QUERY -d /ibers/ernie/groups/rumenISPG/Databases/2015_04-trembl-ec3/rapsearch/2015-04__uniprot__ec_3__tax_2-Bacteria__reviewed_no.rap -u 1 -z 8 -e 0.00001 &gt; $OUTFILE
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-64f10616c6ed7635216299-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-64f10616c6ed7635216299-2">2</div><div class="crayon-num" data-line="crayon-64f10616c6ed7635216299-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-64f10616c6ed7635216299-4">4</div><div class="crayon-num" data-line="crayon-64f10616c6ed7635216299-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-64f10616c6ed7635216299-1"><span class="crayon-e">terminate </span><span class="crayon-e">called </span><span class="crayon-e">after </span><span class="crayon-e">throwing </span><span class="crayon-e">an </span><span class="crayon-e">instance </span><span class="crayon-i">of</span><span class="crayon-h"> </span><span class="crayon-s">'boost::archive::archive_exception'</span></div><div class="crayon-line crayon-striped-line" id="crayon-64f10616c6ed7635216299-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">what</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">invalid </span><span class="crayon-v">signature</span></div><div class="crayon-line" id="crayon-64f10616c6ed7635216299-3"><span class="crayon-o">/</span><span class="crayon-v">cm</span><span class="crayon-o">/</span><span class="crayon-v">local</span><span class="crayon-o">/</span><span class="crayon-v">apps</span><span class="crayon-o">/</span><span class="crayon-v">sge</span><span class="crayon-o">/</span><span class="crayon-v">current</span><span class="crayon-o">/</span><span class="crayon-v">spool</span><span class="crayon-o">/</span><span class="crayon-v">node012</span><span class="crayon-o">/</span><span class="crayon-v">job_scripts</span><span class="crayon-o">/</span><span class="crayon-cn">1442997</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">line</span><span class="crayon-h"> </span><span class="crayon-cn">40</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">31100</span><span class="crayon-h"> </span><span class="crayon-e">Aborted</span></div><div class="crayon-line crayon-striped-line" id="crayon-64f10616c6ed7635216299-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-e">core </span><span class="crayon-v">dumped</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">rapsearch</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">QUERY</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">d</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">ibers</span><span class="crayon-o">/</span><span class="crayon-v">ernie</span><span class="crayon-o">/</span><span class="crayon-v">groups</span><span class="crayon-o">/</span><span class="crayon-v">rumenISPG</span><span class="crayon-o">/</span><span class="crayon-v">Databases</span><span class="crayon-o">/</span><span class="crayon-cn">2015_04</span><span class="crayon-o">-</span><span class="crayon-v">trembl</span><span class="crayon-o">-</span><span class="crayon-v">ec3</span><span class="crayon-o">/</span><span class="crayon-v">rapsearch</span><span class="crayon-o">/</span><span class="crayon-cn">2015</span><span class="crayon-o">-</span><span class="crayon-cn">04__uniprot__ec_3__tax_2</span><span class="crayon-o">-</span><span class="crayon-v">Bacteria__reviewed_no</span><span class="crayon-sy">.</span><span class="crayon-v">rap</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">u</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">z</span><span class="crayon-h"> </span><span class="crayon-cn">8</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-cn">0.00001</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-i">OUTFILE</span></div><div class="crayon-line" id="crayon-64f10616c6ed7635216299-5">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p></p>
<p>A quick search offers no concrete solution. The disk isn&#8217;t full<sup id="fnref-252-5"><a href="#fn-252-5" rel="footnote">5</a></sup> and the accounting file indicates that both the RAM and time allocated to the jobs were sufficient. You may recall my encountering this <code>boost</code> error recently when client nodes had been upgraded in an attempt to address the &#8220;recent&#8221; kernel NFS bug disaster.</p>
<p><code>node012</code> is part of the <code>large.q</code> and so I thought perhaps this heavily utilised big-job queue was yet to receive (or yet to reboot following) such an update. After resubmitting the jobs to other queues with <code>Sunblock</code><sup id="fnref-252-6"><a href="#fn-252-6" rel="footnote">6</a></sup> and found the behaviour repeated on another node, my hunch was proven incorrect. Grr.</p>
<p>Of the two successful jobs, the only link appears to be their small database size (see table). Yet the smallest database still met the same fateful error regardless, thus it appears the behaviour is unpredictable. I can only guess the trouble is related to a particular compute node rather than a bug in <code>rapsearch</code> or an error in my job submission scripts (which have had at least six PhD candidate grade eyes on them now) and so I&#8217;ve escalated my confusion and ruined the bank holiday weekend of our trusty sysadmin.</p>
<h2>Update: The following morning</h2>
<p>I spoke to Tom about the <code>rapsearch</code> jobs he&#8217;s running right now and all is apparently well on <code>node009</code> and <code>node010</code>. So I figured I&#8217;d resubmit the previously failed fungi TrEMBL job to <code>node010</code> and wait for a result: it completed sucessfully in just over 40 minutes.</p>
<p>Unhelpfully, the fungi SwissProt job (which admittedly was previously successful) was able to finish on the suspicious <code>node003</code>. So the problem is unpredictable and transient? The plot thickens.</p>
<p>I&#8217;ll try out the bacterial and failed archaea tasks on <code>node010</code>.</p>
<h2>Update: Mostly still morning</h2>
<p>The archaeal task was a success on <code>node007</code>, taking just shy of 20 minutes. One of the bacterial re-resubmissions has already failed with the same error as before. I decided to have a nose around the <code>rapsearch</code> <a href="https://github.com/zhaoyanswill/RAPSearch2/tree/95c866e9b818b7b4b9648ef4e0810a33300c3432">repository</a> to try and track down where calls to <code>boost</code> archive serialization functionality even reside. Instead I&#8217;m sat here confused as to why there is a <code>boost/</code> directory included in the source that hasn&#8217;t been updated for two years, whilst the project&#8217;s <a href="https://github.com/zhaoyanswill/RAPSearch2/blob/95c866e9b818b7b4b9648ef4e0810a33300c3432/Src/Makefile">Makefile</a> still links against a local installation of <code>boost</code> with <code>-lboost_serialization</code> as a sane person would? Wat? I&#8217;m not even sure what the consequences of this are, does this old directory get used during building? I&#8217;ll have to ask our sysadmin how he managed to build it as a module but this does not sit well with me.</p>
<p>My good friend and resident expert in all things C(++), <a href="http://bytecove.co.uk/">Dan</a> located some manual pages that I should have read regarding <a href="http://www.boost.org/doc/libs/1_37_0/libs/serialization/doc/exceptions.html">boost serialization exceptions</a>. The <code>boost::archive_exception</code> object holds an <code>exception_code</code> that maps to an enum to tell you exactly what went wrong, which is awesomely thought out and very useful. Unfortunately for me, the error isn&#8217;t caught by <code>rapsearch</code> which is why I have an upset <code>stderr</code>. My options are probably either to re-compile <code>rapsearch</code> with my own attempt at error handling, or re-enabling core dumps and inspecting the steaming remains with <code>gdb</code>. I&#8217;m opting for the latter because quite frankly, screw spending my weekend messing around <a href="https://github.com/samtools/samtools/pull/259">trying to diagnose and fix</a> poorly documented C-based bioinformatics tools again.</p>
<h2>Update: A few days later</h2>
<p><a href="/2015/05/04/aligned-annihilation-sequel/">The drama continues</a>.</p>
<hr />
<h1>tl;dr</h1>
<ul>
<li>I deleted everything that hasn&#8217;t quite worked and it felt good for a short time.</li>
<li>The cluster continues to fail in an unexpected and unpredictable fashion.</li>
<li>If a library you include gives you nice exception objects, please try to catch them and use them for good.</li>
</ul>
<div class="footnotes">
<hr />
<ol>
<li id="fn-252-1">
I kept my first and only successful <code>BLAST</code> job which completed over Christmas, that was against a heavily outdated SwissProt. I doubt at this point it is even of any use but it is all I have to show for myself.&#160;<a href="#fnref-252-1" rev="footnote">&#8617;</a>
</li>
<li id="fn-252-2">
Is that right?&#160;<a href="#fnref-252-2" rev="footnote">&#8617;</a>
</li>
<li id="fn-252-3">
Especially useful for quickly re-submitting the jobs I sent with a missing database file extension.&#160;<a href="#fnref-252-3" rev="footnote">&#8617;</a>
</li>
<li id="fn-252-4">
At least the core wasn&#8217;t dumped this time. This also shows that my no error tolerance <a href="/2015/04/17/exits/">configuration</a> works correctly, we caught the failure!&#160;<a href="#fnref-252-4" rev="footnote">&#8617;</a>
</li>
<li id="fn-252-5">
Tom and I can&#8217;t believe it either. It&#8217;s the most free space I&#8217;ve seen since I started here:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-64f10616c6ee0949671835" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Filesystem                                           Size  Used Avail Use% Mounted on
storage01.ib.cluster:/ibers/ernie/scratch             11T  6.5T  3.3T  67% /ibers/ernie/scratch
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-64f10616c6ee0949671835-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-64f10616c6ee0949671835-2">2</div><div class="crayon-num" data-line="crayon-64f10616c6ee0949671835-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-64f10616c6ee0949671835-1"><span class="crayon-e">Filesystem&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">Size&nbsp;&nbsp;</span><span class="crayon-e">Used </span><span class="crayon-e">Avail </span><span class="crayon-st">Use</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-e">Mounted </span><span class="crayon-e">on</span></div><div class="crayon-line crayon-striped-line" id="crayon-64f10616c6ee0949671835-2"><span class="crayon-v">storage01</span><span class="crayon-sy">.</span><span class="crayon-v">ib</span><span class="crayon-sy">.</span><span class="crayon-v">cluster</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">ibers</span><span class="crayon-o">/</span><span class="crayon-v">ernie</span><span class="crayon-o">/</span><span class="crayon-i">scratch</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">11T</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">6.5T</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">3.3T</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">67</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">ibers</span><span class="crayon-o">/</span><span class="crayon-v">ernie</span><span class="crayon-o">/</span><span class="crayon-i">scratch</span></div><div class="crayon-line" id="crayon-64f10616c6ee0949671835-3">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p><a href="#fnref-252-5" rev="footnote">&#8617;</a>
</li>
<li id="fn-252-6">
I can&#8217;t help but name drop my tool here. It just makes my life so much easier. Instead of messing around editing job submission scripts to change queues and parameters, I can just resubmit by answering a few prompts from the comfort of my terminal!</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-64f10616c6ee3937437905" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
sunblock resub 8-11
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-64f10616c6ee3937437905-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-64f10616c6ee3937437905-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-64f10616c6ee3937437905-1"><span class="crayon-e">sunblock </span><span class="crayon-i">resub</span><span class="crayon-h"> </span><span class="crayon-cn">8</span><span class="crayon-o">-</span><span class="crayon-cn">11</span></div><div class="crayon-line crayon-striped-line" id="crayon-64f10616c6ee3937437905-2">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p></p>
<p><a href="#fnref-252-6" rev="footnote">&#8617;</a>
</li>
</ol>
</div>
</div>
                
                        <div class="tag-well"><span><span class="fa fa-tags"></span>&nbsp;&nbsp; </span></div>
                
                <nav class="further-reading">
	<div class="previous">
		<span>Previous Post</span>
		<a href="https://samnicholls.net/2015/04/29/pipelines/">Pipelines</a>
	</div>
	<div class="next">
		<span>Next Post</span>
		<a href="https://samnicholls.net/2015/05/03/ghostbusting/">Ghostbusting</a>
	</div>
</nav>            </article>
                                <div class="card">

<div id="disqus_thread"></div>
                </div>
    
</section>

        <!-- Sidebar -->
        <aside class="col-md-4 sidebar-container">
		            <div id="widget-area" class="widget-area" role="complementary">
                <div id="custom_html-3" class="widget_text card widget widget_custom_html"><div class="textwidget custom-html-widget"><img src="https://pbs.twimg.com/profile_images/1044255545610436609/wt33ZbtU_400x400.jpg" height=120 style="margin-top: 20px; margin-right:10px; float: left;" alt="Sam Nicholls" />
<div style="padding-top:15px; line-height: normal"><b style="font-size: 1.2em">Sam Nicholls</b><br><span style="font-size: 0.9em;">Haplotype Wrangler at University of Birmingham.<br>I tell computers to do things, then I write about how it all went wrong.</span></div></div></div><div id="search-2" class="card widget widget_search"><form style="margin-top:15px" action="https://samnicholls.net/" id="searchform" method="get" role="form">
    <div class="form-group">
        <input type="text" class="form-control" name="s" id="s" placeholder="e.g. Search...">
    </div>
</form>
</div><div id="twitter_timeline-5" class="card widget widget_twitter_timeline"><a class="twitter-timeline" data-height="400" data-theme="light" data-link-color="#f96e5b" data-border-color="#e8e8e8" data-lang="EN" data-partner="jetpack" data-chrome="noheader nofooter noborders" href="https://twitter.com/samstudio8">My Tweets</a></div><div id="categories-5" class="card widget widget_categories"><h2>Categories</h2>
			<ul>
					<li class="cat-item cat-item-2"><a href="https://samnicholls.net/category/bioinf/">Bioinformatics</a>
<ul class='children'>
	<li class="cat-item cat-item-8"><a href="https://samnicholls.net/category/bioinf/au-phd/">AU-PhD</a>
</li>
	<li class="cat-item cat-item-3"><a href="https://samnicholls.net/category/bioinf/sanger-qc/" title="Sanger QC Project">Sanger-QC</a>
</li>
	<li class="cat-item cat-item-61"><a href="https://samnicholls.net/category/bioinf/tools/">Tools</a>
	<ul class='children'>
	<li class="cat-item cat-item-185"><a href="https://samnicholls.net/category/bioinf/tools/chitin/">chitin</a>
</li>
	</ul>
</li>
</ul>
</li>
	<li class="cat-item cat-item-80"><a href="https://samnicholls.net/category/devops/">Devops</a>
</li>
	<li class="cat-item cat-item-114"><a href="https://samnicholls.net/category/event/">Event</a>
</li>
	<li class="cat-item cat-item-21"><a href="https://samnicholls.net/category/gadgets/">Gadgets</a>
</li>
	<li class="cat-item cat-item-176"><a href="https://samnicholls.net/category/hardware/">Hardware</a>
<ul class='children'>
	<li class="cat-item cat-item-223"><a href="https://samnicholls.net/category/hardware/beehive-monitor/">Beehive Monitor</a>
</li>
	<li class="cat-item cat-item-178"><a href="https://samnicholls.net/category/hardware/esp8266/">ESP8266</a>
</li>
	<li class="cat-item cat-item-236"><a href="https://samnicholls.net/category/hardware/lego-sequencer/">Lego Sequencer</a>
</li>
	<li class="cat-item cat-item-177"><a href="https://samnicholls.net/category/hardware/lightstick/">Lightstick</a>
</li>
</ul>
</li>
	<li class="cat-item cat-item-151"><a href="https://samnicholls.net/category/lab/">Lab</a>
<ul class='children'>
	<li class="cat-item cat-item-150"><a href="https://samnicholls.net/category/lab/protocol-guides/">Protocol Guides</a>
</li>
</ul>
</li>
	<li class="cat-item cat-item-5"><a href="https://samnicholls.net/category/meta/">Meta</a>
</li>
	<li class="cat-item cat-item-62"><a href="https://samnicholls.net/category/mysteries/">Mysteries</a>
</li>
	<li class="cat-item cat-item-22"><a href="https://samnicholls.net/category/personal/">Personal</a>
</li>
	<li class="cat-item cat-item-4"><a href="https://samnicholls.net/category/photo/">Photography</a>
</li>
	<li class="cat-item cat-item-143"><a href="https://samnicholls.net/category/programming/">Programming</a>
<ul class='children'>
	<li class="cat-item cat-item-145"><a href="https://samnicholls.net/category/programming/documentation/">Documentation</a>
</li>
	<li class="cat-item cat-item-144"><a href="https://samnicholls.net/category/programming/python/">Python</a>
</li>
</ul>
</li>
	<li class="cat-item cat-item-48"><a href="https://samnicholls.net/category/status-report/">Status Report</a>
</li>
	<li class="cat-item cat-item-60"><a href="https://samnicholls.net/category/sysadm/">System Administration</a>
</li>
	<li class="cat-item cat-item-1"><a href="https://samnicholls.net/category/uncategorised/">Uncategorised</a>
</li>
			</ul>

			</div>            </div>
		        </aside>
    </div>

</div> <!-- /container -->

<footer id="main-footer" class="bg-primary">
	<div id="footer-widgets" class="container">
		    </div>
</footer>



	<div style="display:none">
	</div>
<script type='text/javascript' src='https://samnicholls.net/wp-includes/js/comment-reply.min.js?ver=5.7.5' id='comment-reply-js'></script>
<script type='text/javascript' id='disqus_count-js-extra'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"samposium-blog"};
/* ]]> */
</script>
<script type='text/javascript' src='https://samnicholls.net/wp-content/plugins/disqus-comment-system/public/js/comment_count.js?ver=3.0.17' id='disqus_count-js'></script>
<script type='text/javascript' id='disqus_embed-js-extra'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.17"},"disqusIdentifier":"252 http:\/\/blog.ironowl.io\/?p=252","disqusShortname":"samposium-blog","disqusTitle":"Aligned Annihilation","disqusUrl":"https:\/\/samnicholls.net\/2015\/05\/01\/aligned-annihilation\/","postId":"252"};
/* ]]> */
</script>
<script type='text/javascript' src='https://samnicholls.net/wp-content/plugins/disqus-comment-system/public/js/comment_embed.js?ver=3.0.17' id='disqus_embed-js'></script>
<script type='text/javascript' src='https://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=202335' id='devicepx-js'></script>
<script type='text/javascript' src='https://samnicholls.net/wp-content/plugins/jetpack/_inc/twitter-timeline.js?ver=4.0.0' id='jetpack-twitter-timeline-js'></script>
<script type='text/javascript' src='https://samnicholls.net/wp-includes/js/wp-embed.min.js?ver=5.7.5' id='wp-embed-js'></script>
<script type='text/javascript' src='https://stats.wp.com/e-202335.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:4.9',blog:'101350222',post:'252',tz:'1',srv:'samnicholls.net'} ]);
	_stq.push([ 'clickTrackerInit', '101350222', '252' ]);
</script>

<script type="text/javascript">
(function() {
  if (navigator.userAgent.match(/IEMobile\/10\.0/)) {
    var msViewportStyle = document.createElement("style");
    msViewportStyle.appendChild(
      document.createTextNode("@-ms-viewport{width:auto!important}")
    );
    document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
  }
})();

var collapsed = false;
jQuery( document ).ready(function($) {
    $('.navbar-toggle').click(function(){
        console.log(collapsed);
        if(collapsed) {
            $('.navbar-header > button').html('<i class="fa fa-bars"></i>');
        } else {
            $('.navbar-header > button').html('<i class="fa fa-times"></i>');
        }
        $('.navbar-collapse').toggle(200);
        collapsed = !collapsed;
    });
});
</script>
	
</body>

</html>
